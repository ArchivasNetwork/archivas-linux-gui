# Distribution Guide

This guide explains how to package and distribute the Archivas Core GUI application.

## Distribution Methods

### 1. GitHub Releases (Recommended)

**Best for**: Open source distribution, version control, easy updates

**Steps**:
1. Create a release build (see below)
2. Package the application (AppImage, .deb, etc.)
3. Create a GitHub Release
4. Upload packages as release assets

### 2. AppImage (Linux - Recommended)

**Best for**: Portable, self-contained Linux distribution

**Advantages**:
- Single file, no installation needed
- Works on most Linux distributions
- Users can run directly: `./archivas-qt.AppImage`

**How to create**:
```bash
./scripts/create-appimage.sh
```

### 3. .deb Package (Debian/Ubuntu)

**Best for**: Easy installation on Debian-based systems

**How to create**:
```bash
./scripts/create-deb.sh
```

### 4. Standalone Binary

**Best for**: Users who want to compile themselves

**Steps**:
1. Publish source code to GitHub
2. Users clone and build: `./build.sh`

## Creating Release Builds

### Step 1: Build Release Version

```bash
mkdir -p build-release
cd build-release
cmake .. -DCMAKE_BUILD_TYPE=Release
make -j$(nproc)
```

### Step 2: Test the Release Build

```bash
./build-release/archivas-qt
```

### Step 3: Package for Distribution

Choose one of the packaging methods below.

## Packaging Scripts

### AppImage (Linux)

The AppImage format bundles the application and all dependencies into a single file.

**Requirements**:
- `linuxdeploy` or `linuxdeployqt` tool
- Qt libraries

**Create AppImage**:
```bash
./scripts/create-appimage.sh
```

This will create: `archivas-qt-x86_64.AppImage`

### .deb Package (Debian/Ubuntu)

Creates a Debian package for easy installation.

**Create .deb**:
```bash
./scripts/create-deb.sh
```

This will create: `archivas-qt_1.0.0_amd64.deb`

**Installation**:
```bash
sudo dpkg -i archivas-qt_1.0.0_amd64.deb
```

## GitHub Release Process

### 1. Prepare Release

```bash
# Update version in CMakeLists.txt if needed
# Build release version
./scripts/build-release.sh

# Create packages
./scripts/create-appimage.sh
./scripts/create-deb.sh
```

### 2. Create GitHub Release

1. Go to GitHub repository
2. Click "Releases" â†’ "Create a new release"
3. Tag version: `v1.0.0`
4. Release title: `Archivas Core GUI v1.0.0`
5. Release notes:
   ```
   ## Archivas Core GUI v1.0.0
   
   First stable release of the Archivas Core GUI application.
   
   ### Features
   - Node management
   - Farmer management
   - Plot creation
   - Real-time chain status
   - Block and transaction browsing
   
   ### Downloads
   - **Linux AppImage**: [archivas-qt-x86_64.AppImage](link)
   - **Debian/Ubuntu**: [archivas-qt_1.0.0_amd64.deb](link)
   - **Source Code**: [Source code (zip)](link)
   ```

### 3. Upload Assets

Upload the following files:
- `archivas-qt-x86_64.AppImage` (if created)
- `archivas-qt_1.0.0_amd64.deb` (if created)
- Source code zip (auto-generated by GitHub)

## What to Include

### Required Files

1. **Executable**: The compiled `archivas-qt` binary
2. **README.md**: User documentation
3. **LICENSE**: License file
4. **CHANGELOG.md**: Version history

### Optional Files

1. **Screenshots**: Application screenshots
2. **Icons**: Application icons (already bundled)
3. **Documentation**: Additional docs in `docs/` folder

## Distribution Checklist

- [ ] Build release version (`CMAKE_BUILD_TYPE=Release`)
- [ ] Test the release build thoroughly
- [ ] Update version number in `CMakeLists.txt`
- [ ] Update `CHANGELOG.md` with new version
- [ ] Create packages (AppImage, .deb, etc.)
- [ ] Test packages on clean systems
- [ ] Create GitHub Release
- [ ] Upload packages as release assets
- [ ] Update README.md with download links
- [ ] Announce release (if applicable)

## User Installation Instructions

### For AppImage Users

1. Download `archivas-qt-x86_64.AppImage`
2. Make executable: `chmod +x archivas-qt-x86_64.AppImage`
3. Run: `./archivas-qt-x86_64.AppImage`

### For .deb Users

1. Download `archivas-qt_1.0.0_amd64.deb`
2. Install: `sudo dpkg -i archivas-qt_1.0.0_amd64.deb`
3. Run: `archivas-qt` (from terminal or application menu)

### For Source Code Users

1. Clone repository: `git clone https://github.com/ArchivasNetwork/archivas-linux-gui.git`
2. Install dependencies: `sudo ./install-deps.sh`
3. Build: `./build.sh`
4. Run: `./build/archivas-qt`

## Version Numbering

Follow semantic versioning: `MAJOR.MINOR.PATCH`

- **MAJOR**: Breaking changes
- **MINOR**: New features, backward compatible
- **PATCH**: Bug fixes

Update version in:
- `CMakeLists.txt`: `project(ArchivasCore VERSION 1.0.0 ...)`
- `CHANGELOG.md`: Add entry for new version
- GitHub Release tag: `v1.0.0`

## Security Considerations

1. **Code Signing**: Consider signing binaries (optional but recommended)
2. **Checksums**: Provide SHA256 checksums for downloads
3. **Verification**: Users should verify checksums before installing

## Next Steps

1. Create packaging scripts (see `scripts/` directory)
2. Set up CI/CD for automated releases (GitHub Actions)
3. Create installation documentation
4. Set up download page or website

